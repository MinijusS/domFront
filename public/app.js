!function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";function i(t,e={},...s){return{nodeName:t,attributes:e,children:s}}function a(t){if("string"==typeof t){return document.createTextNode(t)}const{nodeName:e,attributes:s,children:i}=t;let r;return r="function"==typeof e?function(t,e){const s=new t(e),i=a(s.render());return s.$node=i,i}(e,s):function(t,e){let s=document.createElement(t);for(let t in e)"function"==typeof e[t]?s.addEventListener(t,e[t]):s.setAttribute(t,e[t]);return s}(e,s),i.forEach(t=>n(t,r)),r}function n(t,e){e.appendChild(a(t))}s.r(e);class r{constructor(t){this.$node=null,this.props=t,this.state={}}setState(t){this.state={...this.state,...t},function(t){t.$node;const e=a(t.render());t.$node.replaceWith(e),t.$node=e}(this)}}class l extends r{constructor(t){super(t)}render(){return i("button",{class:this.props.class,click:this.props.click},this.props.name)}}class o extends r{constructor(t){super(t)}render(){return i("input",{class:this.props.class,placeholder:this.props.placeholder,keyup:this.props.handler})}}class d extends r{constructor(t){super(t),this.handler=this.handler.bind(this)}handler(){this.props.click(this.props.id)}render(){return i("li",{class:"list-item"},i("a",{class:this.props.class,click:this.handler},this.props.item))}}class h extends r{constructor(t){super(t),this.state.article={title:"",body:""},this.handleSubmit=this.handleSubmit.bind(this),this.handleTitle=this.handleTitle.bind(this),this.handleBody=this.handleBody.bind(this)}handleTitle(t){this.state.article.title=t.target.value}handleBody(t){this.state.article.body=t.target.value}handleSubmit(t){t.preventDefault(),this.props.handler(this.state.article)}render(){return i("form",{class:"form",submit:this.handleSubmit},i(o,{class:"form-input",placeholder:"Title",handler:this.handleTitle}),i("textarea",{class:"form-input",placeholder:"Content",keyup:this.handleBody}),i(l,{class:"form-submit",name:"Submit Form"}))}}class c extends r{constructor(t){super(t),this.deleteHandler=this.deleteHandler.bind(this),this.editHandler=this.editHandler.bind(this)}deleteHandler(){this.props.deleteHandler(this.props.id)}editHandler(){this.props.editHandler(this.props,this.props.id)}render(){return i("article",{},i("div",{class:"left-side"},i("h2",{},this.props.title),i("p",{},this.props.body)),i("div",{class:"right-side"},i(l,{name:"",class:"btn btn-delete",click:this.deleteHandler},i("i",{class:"material-icons"},"delete")),i(l,{name:"",class:"btn btn-edit",click:this.editHandler},i("i",{class:"material-icons"},"edit"))))}}class p extends r{constructor(t){super(t)}render(){return i("div",{class:this.props.class})}}class u extends r{constructor(t){super(t),this.state.update={title:this.props.title,body:this.props.content},this.handleSubmit=this.handleSubmit.bind(this),this.handleTitle=this.handleTitle.bind(this),this.handleBody=this.handleBody.bind(this)}handleTitle(t){this.state.update.title=t.target.value}handleBody(t){this.state.update.body=t.target.value}handleSubmit(t){t.preventDefault(),this.props.handler(this.state.update,this.props.id)}render(){return i("div",{class:"modal-popup"},i("input",{class:"form-input",keyup:this.handleTitle,value:this.props.title}),i("textarea",{class:"form-input",keyup:this.handleBody},this.props.content),i(l,{class:"btn btn-update",name:"Update Article",click:this.handleSubmit}))}}n(i(class extends r{constructor(t){super(t),this.state.navItems={currentlyActive:0,list:["Home","Login","Register"]},this.makeActive=this.makeActive.bind(this)}makeActive(t){this.state.navItems.currentlyActive=t,this.setState(this.state)}render(){const t=this.state.navItems.list.map((t,e)=>i(d,{item:t,id:e,class:this.state.navItems.currentlyActive===e?"active":"non-active",click:this.makeActive}));return i("nav",{class:this.props.class},i("img",{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",class:"logo"}),i("ul",{class:"nav-items"},...t))}},{class:"wrapper"}),document.querySelector("header")),n(i(class extends r{constructor(){super(),this.state.articles=[],this.getData(),this.state.isLoading=!0,this.state.modal={isOpen:!1,title:"",content:""},this.getData=this.getData.bind(this),this.editPost=this.editPost.bind(this),this.updatePost=this.updatePost.bind(this),this.newPost=this.newPost.bind(this),this.postData=this.postData.bind(this),this.deletePost=this.deletePost.bind(this)}newPost(t){this.state.articles.push(t),this.setState(this.state)}postData(t){fetch("http://rest.stecenka.lt/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>this.newPost(t))}getData(){fetch("http://rest.stecenka.lt/api/posts").then(t=>t.json()).then(t=>this.setData(t))}setData(t){this.setState({articles:t,isLoading:!1})}deletePost(t){fetch("http://rest.stecenka.lt/api/posts/"+t,{method:"DELETE"}).then(t=>t.json()).then(()=>{const e=this.state.articles.findIndex(e=>e.id===t);this.state.articles.splice(e,1),this.setState(this.state)})}editPost(t){this.state.modal={isOpen:!0,title:t.title,content:t.body,id:t.id},this.setState(this.state)}updatePost(t,e){fetch("http://rest.stecenka.lt/api/posts/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(()=>{this.state.modal.isOpen=!1;const s=this.state.articles.findIndex(t=>t.id===e);this.state.articles[s].title=t.title,this.state.articles[s].body=t.body,this.setState(this.state)})}render(){const t=this.state.articles.map(t=>i(c,{title:t.title,body:t.body,id:t.id,deleteHandler:this.deletePost,editHandler:this.editPost}));return this.state.isLoading?i("div",{class:"wrapper center"},i(p,{class:"loader"})):this.state.modal.isOpen?i(u,{title:this.state.modal.title,content:this.state.modal.content,handler:this.updatePost,id:this.state.modal.id}):i("div",{class:"wrapper"},i("div",{class:"top-section"},i("h1",{},"News"),i("i",{class:"material-icons",click:this.getData},"refresh")),i("div",{class:"articles"},...t),i(h,{class:"form-submit",handler:this.postData}))}},{}),document.querySelector("main"))}]);